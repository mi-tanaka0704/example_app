# Git/GitHubについて(2025/1/12)

## git pullするタイミング
- 頻度1日に一回、確実にするタイミング
- PRを出す前
- コンフリクトで困らないようにこまめに行う

## rebaseとは
- 線がわかりやすくなる
- まだ理解できていないが以下が参考になりそう
  
参考：https://envader.plus/article/549

## ブランチを新しく切った場合でもコミットを分けることは可能か
- 答え：コミットを分けてpush可能。
- ステージングに上げるファイルをN個ずつ(分けること)にして、それぞれコミットすればいい

## ファイル編集をしてからブランチを切る場合

### Gitは未コミットの変更（作業中の変更）を持ったままブランチを切れる
- 先にちょっと直し始める（どのタスク名で切るか未定）→「これだな」と決まった時点でブランチを作る
- そのブランチに 今の変更がそのまま乗る

```
# すでに release/20260205 にいて、ファイルを編集してしまった後でも
git switch -c fix/route  # ←この時点の変更を持ったまま新ブランチ作成
```

### とりあえず進めていってあとからタスクの名前を決めることがある
- 例えば、fix/routeこうゆうのを切らずに、release/20260205（phase2ブランチ）←最新の開発環境で直せるかどうか調査や検証する
- ここで直せたら初めてブランチを切ってそのままPRだす
- でも、基本的には検証・調査だけにとどめておいた方がよさそう（途中で割り込みが多いと「変更がどのタスクのものか」混ざりやすくて事故りやすい）
- つまり「割り込み多い」「タスクが混ざりやすい」なら、ブランチは早めに切る方がいい（事故りにくい）
  
### ただし、defautのブランチでコミットpushは絶対にしないこと。
- 今回の例で言うと、release/20260205（phase2ブランチ）がdefaultのブランチ

## 他のタスクをお願いされた場合、別のブランチに切り替えて別の作業を行いたい場合
- 作業が中途半端だからコミットはしたくない時にgit stashで待避しておく
- ローカルだけの一時退避

```
# 変更の退避
git stash push -m "メッセージ（例：新機能の開発途中）"
```

- git stash使わずに、作業途中でコミット → pushがOKならやってしまう手もある
- 作業ブランチで行うこと
- この場合、コミット名は「wip（作業途中）」など作業途中とわかるようにする

https://envader.plus/article/344

## コンフリクト直す
```
fetch pull
rebase

# これはほぼ使わない
cherry pick
```
